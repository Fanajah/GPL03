{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\Projects\\\\GPL3\\\\point-game\\\\src\\\\Cahier.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Stage, Layer, Line, Text, Circle } from 'react-konva';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cahier = ({\n  onPlateauChange\n}) => {\n  _s();\n  const [plateau, setPlateau] = useState([]);\n  const [dernierPoint, setDernierPoint] = useState(null);\n  const width = 500;\n  const height = 500;\n  const xInterval = 50;\n  const yInterval = 50;\n  const createGraduations = (start, end, interval, vertical = false) => {\n    const graduations = [];\n    for (let i = start; i <= end; i += interval) {\n      if (vertical) {\n        graduations.push( /*#__PURE__*/_jsxDEV(Line, {\n          points: [i, 0, i, height],\n          stroke: \"#ccc\",\n          strokeWidth: 1\n        }, `graduation-y-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 34\n        }, this));\n      } else {\n        graduations.push( /*#__PURE__*/_jsxDEV(Line, {\n          points: [0, i, width, i],\n          stroke: \"#ccc\",\n          strokeWidth: 1\n        }, `graduation-x-${i}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 34\n        }, this));\n      }\n    }\n    return graduations;\n  };\n  const handleClick = e => {\n    const stage = e.target.getStage();\n    const {\n      x,\n      y\n    } = stage.getPointerPosition();\n    const newX = Math.round(x / xInterval);\n    const newY = Math.round(y / yInterval);\n    const newPlateau = [...plateau];\n    newPlateau[newY] = newPlateau[newY] || [];\n    newPlateau[newY][newX] = 1;\n    setPlateau(newPlateau);\n    setDernierPoint({\n      x: newX * xInterval,\n      y: newY * yInterval\n    });\n\n    // Appeler la fonction onPlateauChange avec la nouvelle matrice plateau\n    if (typeof onPlateauChange === 'function') {\n      onPlateauChange(newPlateau);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Stage, {\n      width: width,\n      height: height,\n      onClick: handleClick,\n      children: /*#__PURE__*/_jsxDEV(Layer, {\n        children: [/*#__PURE__*/_jsxDEV(Line, {\n          points: [0, height / 2, width, height / 2],\n          stroke: \"black\",\n          strokeWidth: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Line, {\n          points: [width / 2, 0, width / 2, height],\n          stroke: \"black\",\n          strokeWidth: 2\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), createGraduations(0, width, xInterval), createGraduations(0, height, yInterval, true), /*#__PURE__*/_jsxDEV(Text, {\n          text: \"0\",\n          x: width / 2 - 5,\n          y: height / 2 + 5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          text: \"x\",\n          x: width - 10,\n          y: height / 2 + 5\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Text, {\n          text: \"y\",\n          x: width / 2 + 5,\n          y: 10\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this), plateau.map((row, y) => row.map((point, x) => point === 1 && /*#__PURE__*/_jsxDEV(Circle, {\n          x: x * xInterval,\n          y: y * yInterval,\n          radius: 3,\n          fill: \"red\"\n        }, `${x}-${y}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 44\n        }, this))), dernierPoint && /*#__PURE__*/_jsxDEV(Circle, {\n          x: dernierPoint.x,\n          y: dernierPoint.y,\n          radius: 3,\n          fill: \"blue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 38\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Plateau\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        children: JSON.stringify(plateau, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n};\n_s(Cahier, \"SvPHH47RQtAiTvOuoNc/FENXuTs=\");\n_c = Cahier;\nexport default Cahier;\nvar _c;\n$RefreshReg$(_c, \"Cahier\");","map":{"version":3,"names":["React","useState","Stage","Layer","Line","Text","Circle","jsxDEV","_jsxDEV","Cahier","onPlateauChange","_s","plateau","setPlateau","dernierPoint","setDernierPoint","width","height","xInterval","yInterval","createGraduations","start","end","interval","vertical","graduations","i","push","points","stroke","strokeWidth","fileName","_jsxFileName","lineNumber","columnNumber","handleClick","e","stage","target","getStage","x","y","getPointerPosition","newX","Math","round","newY","newPlateau","style","display","children","onClick","text","map","row","point","radius","fill","JSON","stringify","_c","$RefreshReg$"],"sources":["C:/Users/User/Documents/Projects/GPL3/point-game/src/Cahier.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Stage, Layer, Line, Text, Circle } from 'react-konva';\r\n\r\nconst Cahier = ({ onPlateauChange }) => {\r\n    const [plateau, setPlateau] = useState([]);\r\n    const [dernierPoint, setDernierPoint] = useState(null);\r\n\r\n    const width = 500;\r\n    const height = 500;\r\n    const xInterval = 50;\r\n    const yInterval = 50;\r\n\r\n    const createGraduations = (start, end, interval, vertical = false) => {\r\n        const graduations = [];\r\n        for (let i = start; i <= end; i += interval) {\r\n            if (vertical) {\r\n                graduations.push(<Line key={`graduation-y-${i}`} points={[i, 0, i, height]} stroke=\"#ccc\" strokeWidth={1} />);\r\n            } else {\r\n                graduations.push(<Line key={`graduation-x-${i}`} points={[0, i, width, i]} stroke=\"#ccc\" strokeWidth={1} />);\r\n            }\r\n        }\r\n        return graduations;\r\n    };\r\n\r\n    const handleClick = (e) => {\r\n        const stage = e.target.getStage();\r\n        const { x, y } = stage.getPointerPosition();\r\n        const newX = Math.round(x / xInterval);\r\n        const newY = Math.round(y / yInterval);\r\n\r\n        const newPlateau = [...plateau];\r\n        newPlateau[newY] = newPlateau[newY] || [];\r\n        newPlateau[newY][newX] = 1;\r\n\r\n        setPlateau(newPlateau);\r\n        setDernierPoint({ x: newX * xInterval, y: newY * yInterval });\r\n\r\n        // Appeler la fonction onPlateauChange avec la nouvelle matrice plateau\r\n        if (typeof onPlateauChange === 'function') {\r\n            onPlateauChange(newPlateau);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div style={{ display: 'flex' }}>\r\n            <Stage width={width} height={height} onClick={handleClick}>\r\n                <Layer>\r\n                    <Line points={[0, height / 2, width, height / 2]} stroke=\"black\" strokeWidth={2} />\r\n                    <Line points={[width / 2, 0, width / 2, height]} stroke=\"black\" strokeWidth={2} />\r\n                    {createGraduations(0, width, xInterval)}\r\n                    {createGraduations(0, height, yInterval, true)}\r\n                    <Text text=\"0\" x={width / 2 - 5} y={height / 2 + 5} />\r\n                    <Text text=\"x\" x={width - 10} y={height / 2 + 5} />\r\n                    <Text text=\"y\" x={width / 2 + 5} y={10} />\r\n                    {plateau.map((row, y) => (\r\n                        row.map((point, x) => (\r\n                            point === 1 && <Circle key={`${x}-${y}`} x={x * xInterval} y={y * yInterval} radius={3} fill=\"red\" />\r\n                        ))\r\n                    ))}\r\n                    {dernierPoint && <Circle x={dernierPoint.x} y={dernierPoint.y} radius={3} fill=\"blue\" />}\r\n                </Layer>\r\n            </Stage>\r\n            <div>\r\n                <h2>Plateau</h2>\r\n                <pre>{JSON.stringify(plateau, null, 2)}</pre>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Cahier;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}